(this["webpackJsonpvincit-react"]=this["webpackJsonpvincit-react"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(5),r=n.n(a),s=n(2),l=function(e){var t=Object(c.useState)(""),n=Object(s.a)(t,2),a=n[0],r=n[1];return{type:e,value:a,onChange:function(e){r(e.target.value)},setValue:r}},i=n(0),o=function(e){var t=e.submitDates,n=l("date"),c=l("date");return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("form",{className:"mt-2",onSubmit:function(e){return t(e,n.value,c.value)},children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-md-5",children:[Object(i.jsx)("label",{for:"startDate",children:"From:"}),Object(i.jsx)("input",{type:"date",id:"startDate",className:"form-control",value:n.value,onChange:n.onChange})]}),Object(i.jsxs)("div",{className:"col-md-5",children:[Object(i.jsx)("label",{for:"endDate",children:"To:"}),Object(i.jsx)("input",{type:"date",id:"endDate",className:"form-control",value:c.value,onChange:c.onChange})]}),Object(i.jsx)("div",{className:"col-md-2 col-12",children:Object(i.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",children:"Confirm dates"})})]})})})},d=n(4),j=n.n(d),u=n(6),b=function(){return{getData:function(){var e=Object(u.a)(j.a.mark((function e(t,n){var c,a,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"bitcoin",c=new Date(t).getTime()/1e3,a=new Date(n).getTime()/1e3+3600,e.next=5,fetch("https://api.coingecko.com/api/v3/coins/".concat("bitcoin","/market_chart/range?vs_currency=eur&from=").concat(c,"&to=").concat(a));case 5:return r=e.sent,e.next=8,r.json().then((function(e){return e}));case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},h=function(e){var t=e.data;return t?Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"card text-center h-100 border-dark",children:[Object(i.jsx)("h3",{class:"card-header",children:"Bear trend"}),Object(i.jsxs)("p",{children:["Longest bear trend between date range was ",function(){for(var e=0,n=0,c=[],a=0;a<t.length;a++)t[a][1]<n&&(e+=1),t[a][1]>n&&(c.push(e),e=0),n=t[a][1];return c.push(e),Math.max.apply(Math,c)}()," day(s)."]})]})}):null},O=function(e){if(e){for(var t=[e[0]],n=1;n<e.length;n++)new Date(e[n][0]).getUTCDate()!==new Date(e[n-1][0]).getUTCDate()&&t.push(e[n]);return t}},m=function(e){var t=new Date(e).getDate(),n=new Date(e).getMonth(),c=new Date(e).getFullYear();return"".concat(t,".").concat(n+1,".").concat(c)},x=function(e){var t=e.data;return t?Object(i.jsx)(i.Fragment,{children:function(){for(var e=0,n="",c=0;c<t.length;c++)t[c][1]>e&&(e=t[c][1],n=t[c][0]);return Object(i.jsxs)("div",{className:"card text-center h-100 border-dark",children:[Object(i.jsx)("h3",{className:"card-header",children:"Top Volume"}),Object(i.jsxs)("p",{children:["Highest volume were on ",Object(i.jsx)("b",{children:m(n)}),". Volume were"," ",Object(i.jsx)("b",{children:e.toFixed(2)})," euros."]})]})}()}):null},f=function(e){var t=e.data;if(t){for(var n,c=0,a=0;a<t.length;a++)for(var r=a+1;r<t.length;r++)t[r][1]-t[a][1]>c&&(c=t[r][1]-t[a][1],n={buyDate:t[a][0],sellDate:t[r][0]});return c?Object(i.jsxs)("div",{className:"card text-center h-100 border-dark",children:[Object(i.jsx)("h3",{class:"card-header",children:"Optimal Dates"}),Object(i.jsxs)("p",{children:["Buy: ",m(n.buyDate)," ",Object(i.jsx)("br",{}),"Sell: ",m(n.sellDate),Object(i.jsx)("br",{}),Object(i.jsxs)("span",{className:"text-success",children:["Profit made: ",c.toFixed(2),"\u20ac"]})]})]}):Object(i.jsxs)("div",{className:"card text-center h-100 border-dark",children:[Object(i.jsx)("h3",{class:"card-header",children:"Optimal Dates"}),Object(i.jsx)("p",{className:"text-danger",children:"Do not buy! Price will only decrease during date range"})]})}return null},v=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("h1",{className:"display-2 text-center",children:"$crooge McDuck's Crypto analyzer"})})},p=function(e){return e.isOpen?Object(i.jsx)("div",{class:"alert alert-danger mt-2",role:"alert",children:"Check the dates!"}):null},g=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1];return{toggle:function(){return a(!n)},isOpen:n}},D=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),l=Object(s.a)(r,2),d=l[0],j=l[1],u=Object(c.useState)([]),m=Object(s.a)(u,2),D=m[0],N=m[1];Object(c.useEffect)((function(){return j(O(n.prices))}),[n]),Object(c.useEffect)((function(){return N(O(n.total_volumes))}),[n]);var w=g(),y=b();return Object(i.jsxs)("div",{className:"bg-light vh-100",children:[Object(i.jsx)(v,{}),Object(i.jsxs)("div",{className:"container",children:[Object(i.jsx)(o,{submitDates:function(e,t,n){e.preventDefault(),t>=n&&!0!==w.isOpen&&w.toggle(),t<n&&(!0===w.isOpen&&w.toggle(),y.getData(t,n).then((function(e){return a(e)})))}}),Object(i.jsx)(p,{isOpen:w.isOpen}),Object(i.jsxs)("div",{className:"row mt-2",children:[Object(i.jsx)("div",{className:"col-md-4 mt-2",children:Object(i.jsx)(h,{data:d})}),Object(i.jsx)("div",{className:"col-md-4 mt-2",children:Object(i.jsx)(x,{data:D})}),Object(i.jsx)("div",{className:"col-md-4 mt-2",children:Object(i.jsx)(f,{data:d})})]})]})]})};n(13);r.a.render(Object(i.jsx)(D,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.e92f28f2.chunk.js.map