(this["webpackJsonpvincit-react"]=this["webpackJsonpvincit-react"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(5),r=n.n(c),s=n(2),i=function(e){var t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1];return{type:e,value:c,onChange:function(e){r(e.target.value)},setValue:r}},l=n(0),o=function(e){var t=e.submitDates,n=i("date"),a=i("date");return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("form",{className:"mt-2",onSubmit:function(e){return t(e,n.value,a.value)},children:Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-5",children:[Object(l.jsx)("label",{for:"startDate",children:"From:"}),Object(l.jsx)("input",{type:"date",id:"startDate",className:"form-control",value:n.value,onChange:n.onChange})]}),Object(l.jsxs)("div",{className:"col-5",children:[Object(l.jsx)("label",{for:"endDate",children:"To:"}),Object(l.jsx)("input",{type:"date",id:"endDate",className:"form-control",value:a.value,onChange:a.onChange})]}),Object(l.jsx)("div",{className:"col-2",children:Object(l.jsx)("button",{type:"submit",className:"btn btn-primary mt-4",children:"Confirm dates"})})]})})})},d=n(4),j=n.n(d),u=n(6),b=function(){return{getData:function(){var e=Object(u.a)(j.a.mark((function e(t,n){var a,c,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"bitcoin",a=new Date(t).getTime()/1e3,c=new Date(n).getTime()/1e3+3600,e.next=5,fetch("https://api.coingecko.com/api/v3/coins/".concat("bitcoin","/market_chart/range?vs_currency=eur&from=").concat(a,"&to=").concat(c));case 5:return r=e.sent,e.next=8,r.json().then((function(e){return e}));case 8:return s=e.sent,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},h=function(e){var t=e.data;return t?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"card text-center h-100 border-dark",children:[Object(l.jsx)("h3",{class:"card-header",children:"Bear trend"}),Object(l.jsxs)("p",{children:["Longest bear trend between date range was ",function(){for(var e=0,n=0,a=[],c=0;c<t.length;c++)t[c][1]<n&&(e+=1),t[c][1]>n&&(a.push(e),e=0),n=t[c][1];return a.push(e),Math.max.apply(Math,a)}()," day(s)."]})]})}):null},O=function(e){if(e){for(var t=[e[0]],n=1;n<e.length;n++)new Date(e[n][0]).getUTCDate()!==new Date(e[n-1][0]).getUTCDate()&&t.push(e[n]);return t}},m=function(e){var t=new Date(e).getDate(),n=new Date(e).getMonth(),a=new Date(e).getFullYear();return"".concat(t,".").concat(n+1,".").concat(a)},x=function(e){var t=e.data;return t?Object(l.jsx)(l.Fragment,{children:function(){for(var e=0,n="",a=0;a<t.length;a++)t[a][1]>e&&(e=t[a][1],n=t[a][0]);return Object(l.jsxs)("div",{className:"card text-center h-100 border-dark",children:[Object(l.jsx)("h3",{className:"card-header",children:"Top Volume"}),Object(l.jsxs)("p",{children:["Highest volume were on ",Object(l.jsx)("b",{children:m(n)}),". Volume were"," ",Object(l.jsx)("b",{children:e.toFixed(2)})," euros."]})]})}()}):null},f=function(e){var t=e.data;if(t){for(var n,a=0,c=0;c<t.length;c++)for(var r=c+1;r<t.length;r++)t[r][1]-t[c][1]>a&&(a=t[r][1]-t[c][1],n={buyDate:t[c][0],sellDate:t[r][0]});return a?Object(l.jsxs)("div",{className:"card text-center h-100 border-dark",children:[Object(l.jsx)("h3",{class:"card-header",children:"Optimal Dates"}),Object(l.jsxs)("p",{children:["Buy: ",m(n.buyDate)," ",Object(l.jsx)("br",{}),"Sell: ",m(n.sellDate),Object(l.jsx)("br",{}),Object(l.jsxs)("span",{className:"text-success",children:["Profit made: ",a.toFixed(2),"\u20ac"]})]})]}):Object(l.jsxs)("div",{className:"card text-center h-100 border-dark",children:[Object(l.jsx)("h3",{class:"card-header",children:"Optimal Dates"}),Object(l.jsx)("p",{className:"text-danger",children:"Do not buy! Price will only decrease during date range"})]})}return null},v=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("h1",{className:"display-2 text-center",children:"$crooge McDuck's Crypto analyzer"})})},p=function(e){return e.isOpen?Object(l.jsx)("div",{class:"alert alert-danger mt-2",role:"alert",children:"Check the dates!"}):null},g=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1];return{toggle:function(){return c(!n)},isOpen:n}},D=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),i=Object(s.a)(r,2),d=i[0],j=i[1],u=Object(a.useState)([]),m=Object(s.a)(u,2),D=m[0],N=m[1];Object(a.useEffect)((function(){return j(O(n.prices))}),[n]),Object(a.useEffect)((function(){return N(O(n.total_volumes))}),[n]);var w=g(),y=b();return Object(l.jsxs)("div",{className:"bg-light vh-100",children:[Object(l.jsx)(v,{}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(o,{submitDates:function(e,t,n){e.preventDefault(),t>=n&&!0!==w.isOpen&&w.toggle(),t<n&&(!0===w.isOpen&&w.toggle(),y.getData(t,n).then((function(e){return c(e)})))}}),Object(l.jsx)(p,{isOpen:w.isOpen}),Object(l.jsxs)("div",{className:"row mt-2",children:[Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)(h,{data:d})}),Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)(x,{data:D})}),Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)(f,{data:d})})]})]})]})};n(13);r.a.render(Object(l.jsx)(D,{}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.61831e90.chunk.js.map